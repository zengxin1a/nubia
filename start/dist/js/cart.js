"use strict";var page={pageCart:function(){$.ajax({url:"../../php/showlist.php",dataType:"json",success:function(a){if(0==a.code)$(".showBuy").show();else{$(".showBuy").hide();var t=template("cartShow",{json:a.data});$(".cart-container").html(t)}page.add(a),page.del(),page.addOrReduce()}})},add:function(a){var c=0;$.each(a.data,function(a,t){var e=parseInt(t.product_num)*parseInt(t.product_price);return c+=e}),$(".count b").html(c)},del:function(){$(".item").on("click",".del",function(){var a=$(this).parent().parent().find("img").attr("data-id");$.ajax({url:"../../php/delwq.php",dataType:"json",data:{id:a},success:function(){location.reload("./cart.html .cart-container")}})})},addOrReduce:function(){$(".item").on("click",".increase",function(){var a=$(".item img").attr("data-id"),t=$(".increase").attr("data-type");$.ajax({url:"../../php/updatewq.php",dataType:"json",data:{id:a,type:t},success:function(a){1==a.code&&location.reload()}})}),$(".item").on("click",".reduce",function(){var a=$(".item img").attr("data-id"),t=$(".reduce").attr("data-type");$.ajax({url:"../../php/updatewq.php",dataType:"json",data:{id:a,type:t},success:function(a){1==a.code&&location.reload()}})})}};page.pageCart();