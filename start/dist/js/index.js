"use strict";var page={navSwiper:function(){$.ajax({url:"../../data1.json",dataType:"json",success:function(n){var o=template("swipers",{json:n});$(".swiper-wrapper").html(o);new Swiper(".swiper-container",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var e=template("goodsData",{json:n});$("#goods ul").html(e);var t=template("goodsList",{json:n});$("#goodsDetails ul").html(t)}})},login:function(){var n=localStorage.getItem("username");null!=n&&($(".message>ul>li:eq(0) a").html("欢迎您"+n),$(".message>ul>li:eq(0) span").html(""),$(".message>ul").append("<li><a href='#' class='exit'>退出</a></li>"))},exit:function(){$(".exit").on("click",function(){localStorage.removeItem("username"),location.href="../pages/index.html",$(".message>ul>li:eq(0)").html('<li>\n                                    <a href="../pages/login.html" class="loginImp">立即登录</a>\n                                    <span><i>无账号</i><a href="../pages/signIn.html">立即注册</a></span>\n                                </li>'),$(".exit").remove(),$(".cartSpan").hide()})},navSearch:function(){$.ajax({url:"../../php/showlist.php",dataType:"json",success:function(n){var e=0;1==n.code&&$.each(n.data,function(n,o){e+=parseInt(o.product_num),""==$("#hasUser").html()?$(".cartSpan").html(e):$(".cartSpan").hide()})}}),$.ajax({url:"../../indexNav.json",dataType:"json",success:function(n){var o=template("navListTem",{json:n});$(".product").html(o)}})},goods:function(){$.ajax({url:"../../nav-list-g.json",dataType:"json",success:function(n){var o=template("goodsL",{json:n});$("#products").html(o)}})},cart:function(){$(".personMessage ul li:eq(0) a").mouseover(function(){$(".message").show()}),$("body").on("click",".cart",function(){return null==localStorage.getItem("username")||(location.href="./cart.html"),!1})},detail:function(){$("#products").on("click","div",function(){var n=$(this).attr("id");location.href="./details.html?".concat(n)})},flash:function(){$.ajax({url:"../../flash.json",dataType:"json",success:function(n){var o=template("flashkills",{json:n});function e(){var n=new Date,o=n.getHours(),e=1,t=n.getMinutes();t=59-t;var a=n.getSeconds();if(a=59-a,0==t&&0==a&&(e-=1),0==o){var s=o;$(".flashTime").html("".concat(s,"场"))}for(var i=[e,parseInt(t),parseInt(a)],l=0;l<i.length;l++)$(".timeReduce span")[l].innerHTML=i[l]}$(".flash-main").html(o),e(),setInterval(function(){e()},1e3)}})},common:function(){$(".product").on("mouseover",".aca",function(){$(this).parent().siblings().find(".aca").removeClass("active"),$(this).addClass("active")}),$("body").on("mouseout",".message",function(){$(this).hide()}).on("mouseover",".message",function(){$(this).show(),$(".content_list").hide()}),$("#products").on("mouseover","li",function(){$(this).siblings().removeClass("on"),$(this).addClass("on")}),$("#goodsDetails").on("mouseover","img",function(){$(this).parent().parent().siblings().find("img").removeClass("on"),$(this).addClass("on")}).on("mouseout","img",function(){$(this).removeClass("on")}),$("#goodsDetails ").on("mouseover",".learn",function(){$(this).parent().parent().siblings().find(".learn").css("color","black"),$(this).css("color","red")}),$("#goodsDetails ul").on("mouseout",".learn",function(){$(this).css("color","black")}),$(".container").on("mouseover",".product>li",function(){$(this).siblings().find(".content_list").hide(),$(this).find(".content_list").show()}).on("mouseout",".content_list",function(){$(".content_list").hide()}),$(".nav-top").on("mouseout",function(){$(".message").hide()}),$("#goTop").on("click",function(){$("html").animate({scrollTop:0})}),$(window).scroll(function(){60<$(window).scrollTop()?$("#nav").addClass("fix"):$("#nav").removeClass("fix")})}};$(function(){$(window).load(function(){$("#products ul li:eq(0)").addClass("on"),""==$("#hasUser").html()?$(".cartSpan").show():$(".cartSpan").hide()})}),page.navSwiper(),page.login(),page.exit(),page.navSearch(),page.cart(),page.goods(),page.detail(),page.flash(),page.common();